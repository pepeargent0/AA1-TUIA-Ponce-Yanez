{% extends "clima.html" %}
{% block title %}Predicción del clima{% endblock %}
<style>
  .form-group {
    margin: 20px;
  }
  .range-container {
    display: flex;
    align-items: center;
  }
  .range-label {
    margin: 0 10px;
  }
  .value-display {
    margin-left: 10px;
    font-weight: bold;
  }
</style>
{% block content %}
<h1 class="mt-5" style="color: #ffae00;">Predicción de lluvia en Australia</h1>

<form id="weatherForm">
  <div class="row" style="text-align: center;">
    <div class="col-md-4">
      <div class="form-group">
        <label for="locationSelect">Location</label>
        <select class="form-control" id="locationSelect" style="background-color: grey;" name="Location">
          <option value="Adelaide">Adelaide</option>
          <option value="Canberra">Canberra</option>
          <option value="Cobar">Cobar</option>
          <option value="Dartmoor">Dartmoor</option>
          <option value="Melbourne">Melbourne</option>
          <option value="MelbourneAirport">Melbourne Airport</option>
          <option value="MountGambier">Mount Gambier</option>
          <option value="Sydney">Sydney</option>
          <option value="SydneyAirport">Sydney Airport</option>
        </select>
      </div>
    </div>
    <div class="col-md-4">
      <div class="form-group">
        <label for="rangeInput" >MinTemp</label>
        <div class="range-container">
          <div class="row">
            <div class="col-md-6" style="text-align: left;">
              <span class="range-label">-8.5</span>
            </div>
            <div class="col-md-6" style="text-align: right;">
              <span class="range-label">33.9</span>
            </div>
          </div>
          <input type="range" class="form-range" id="MinTemp" name="MinTemp" min="-8.5" max="33.9" step="0.1" value="0" style="width: 100%;">
        </div>
        <center>
          <span class="value-display" id="MinTempValue">-8.5</span>
        </center>
      </div>
    </div>
    <div class="col-md-4">
      <div class="form-group">
        <label for="MaxTemp">MaxTemp</label>
        <div class="range-container">
          <div class="row">
            <div class="col-md-6" style="text-align: left;">
              <span class="range-label">-4.8</span>
            </div>
            <div class="col-md-6" style="text-align: right;">
              <span class="range-label" >48.1</span>
            </div>
          </div>
          <input type="range" name="MaxTemp" class="form-range" id="MaxTemp" min="-4.8" max="48.1" step="0.1" value="0" style="width: 100%;">
        </div>
        <center>
          <span class="value-display" id="MaxTempValue">-4.8</span>
        </center>
      </div>
    </div>
  </div>

  <div class="row" style="text-align: center;">
    <div class="col-md-4">
      <div class="form-group">
        <label for="Rainfall">Rainfall</label>
        <div class="range-container">
          <div class="row">
            <div class="col-md-6" style="text-align: left;">
              <span class="range-label">0</span>
            </div>
            <div class="col-md-6" style="text-align: right;">
              <span class="range-label" >371.0</span>
            </div>
          </div>
          <input type="range" name="Rainfall" class="form-range" id="Rainfall" min="0" max="371.0" step="0.1" value="0" style="width: 100%;">
        </div>
        <center>
          <span class="value-display" id="RainfallValue">0</span>
        </center>
      </div>
    </div>
    <div class="col-md-4">
      <div class="form-group">
        <label for="Evaporation">Evaporation</label>
        <div class="range-container">
          <div class="row">
            <div class="col-md-6" style="text-align: left;">
              <span class="range-label">0</span>
            </div>
            <div class="col-md-6" style="text-align: right;">
              <span class="range-label" >145.0</span>
            </div>
          </div>
          <input type="range" name="Evaporation" class="form-range" id="Evaporation" min="0" max="145.0" step="0.5" value="0" style="width: 100%;">
        </div>
        <center>
          <span class="value-display" id="EvaporationValue">0</span>
        </center>
      </div>
    </div>
    <div class="col-md-4">
      <div class="form-group">
        <label for="Sunshine">Sunshine</label>
        <div class="range-container">
          <div class="row">
            <div class="col-md-6" style="text-align: left;">
              <span class="range-label">0.0</span>
            </div>
            <div class="col-md-6" style="text-align: right;">
              <span class="range-label" >14.5</span>
            </div>
          </div>
          <input type="range" name="Sunshine" class="form-range" id="Sunshine" min="0.0" max="14.5" step="0.1" value="0" style="width: 100%;">
        </div>
        <center>
          <span class="value-display" id="SunshineValue">0</span>
        </center>
      </div>
    </div>
  </div>

  <div class="row" style="text-align: center;">
    <div class="col-md-4">
      <div class="form-group">
        <label for="windGustDirSelect">WindGustDir</label>
        <select class="form-control" id="windGustDirSelect" name="WindGustDir" style="background-color: grey;">
          <option value="W">W</option>
          <option value="WNW">WNW</option>
          <option value="WSW">WSW</option>
          <option value="NE">NE</option>
          <option value="NNW">NNW</option>
          <option value="N">N</option>
          <option value="NNE">NNE</option>
          <option value="SW">SW</option>
          <option value="ENE">ENE</option>
          <option value="SSE">SSE</option>
          <option value="S">S</option>
          <option value="NW">NW</option>
          <option value="SE">SE</option>
          <option value="ESE">ESE</option>
          <option value="E">E</option>
          <option value="SSW">SSW</option>
        </select>
      </div>
    </div>
    <div class="col-md-4">
      <div class="form-group">
        <label for="windDir9amSelect">WindDir9am</label>
        <select class="form-control" id="windDir9amSelect" name="WindDir9am" style="background-color: grey;">
          <option value="W">W</option>
          <option value="WNW">WNW</option>
          <option value="WSW">WSW</option>
          <option value="NE">NE</option>
          <option value="NNW">NNW</option>
          <option value="N">N</option>
          <option value="NNE">NNE</option>
          <option value="SW">SW</option>
          <option value="ENE">ENE</option>
          <option value="SSE">SSE</option>
          <option value="S">S</option>
          <option value="NW">NW</option>
          <option value="SE">SE</option>
          <option value="ESE">ESE</option>
          <option value="E">E</option>
          <option value="SSW">SSW</option>
        </select>
      </div>
    </div>
    <div class="col-md-4">
      <div class="form-group">
        <label for="windDir3pmSelect">WindDir3pm</label>
        <select class="form-control" id="windDir3pmSelect" name="WindDir3pm" style="background-color: grey;">
          <option value="W">W</option>
          <option value="WNW">WNW</option>
          <option value="WSW">WSW</option>
          <option value="NE">NE</option>
          <option value="NNW">NNW</option>
          <option value="N">N</option>
          <option value="NNE">NNE</option>
          <option value="SW">SW</option>
          <option value="ENE">ENE</option>
          <option value="SSE">SSE</option>
          <option value="S">S</option>
          <option value="NW">NW</option>
          <option value="SE">SE</option>
          <option value="ESE">ESE</option>
          <option value="E">E</option>
          <option value="SSW">SSW</option>
        </select>
      </div>
    </div>
  </div>
  <div class="row" style="text-align: center;">
    <div class="col-md-4">
      <div class="form-group">
        <label for="WindGustSpeed">WindGustSpeed</label>
        <div class="range-container">
          <div class="row">
            <div class="col-md-6" style="text-align: left;">
              <span class="range-label">6.0</span>
            </div>
            <div class="col-md-6" style="text-align: right;">
              <span class="range-label" >135.0</span>
            </div>
          </div>
          <input type="range" class="form-range" name="WindGustSpeed" id="WindGustSpeed" min="6.0" max="135.0" step="1.0" value="0" style="width: 100%;">
        </div>
        <center>
          <span class="value-display" id="WindGustSpeedValue">0</span>
        </center>
      </div>
    </div>
    <div class="col-md-4">
      <div class="form-group">
        <label for="Pressure9am">Pressure9am</label>
        <div class="range-container">
          <div class="row">
            <div class="col-md-6" style="text-align: left;">
              <span class="range-label">980.5</span>
            </div>
            <div class="col-md-6" style="text-align: right;">
              <span class="range-label" >1041</span>
            </div>
          </div>
          <input type="range" class="form-range" name="Pressure9am" id="Pressure9am" min="980.5" max="1041" step="0.1" value="0" style="width: 100%;">
        </div>
        <center>
          <span class="value-display" id="Pressure9amValue">980.5</span>
        </center>
      </div>
    </div>
    <div class="col-md-4">
      <div class="form-group">
        <label for="Pressure3pm">Pressure3pm</label>
        <div class="range-container">
          <div class="row">
            <div class="col-md-6" style="text-align: left;">
              <span class="range-label">977.1</span>
            </div>
            <div class="col-md-6" style="text-align: right;">
              <span class="range-label" >1039.6</span>
            </div>
          </div>
          <input type="range" class="form-range" name="Pressure3pm" id="Pressure3pm" min="977.1" max="1039.6" step="0.1" value="0" style="width: 100%;">
        </div>
        <center>
          <span class="value-display" id="Pressure3pmValue">977.1</span>
        </center>
      </div>
    </div>
  </div>

  <div class="row" style="text-align: center;">
    <div class="col-md-4">
      <div class="form-group">
        <label for="Temp9am">Temp9am</label>
        <div class="range-container">
          <div class="row">
            <div class="col-md-6" style="text-align: left;">
              <span class="range-label">-7.2</span>
            </div>
            <div class="col-md-6" style="text-align: right;">
              <span class="range-label" >40.2</span>
            </div>
          </div>
          <input type="range" class="form-range" name="Temp9am" id="Temp9am" min="-7.2" max="40.2" step="0.1" value="0" style="width: 100%;">
        </div>
        <center>
          <span class="value-display" id="Temp9amValue">0</span>
        </center>
      </div>
    </div>
    <div class="col-md-4">
      <div class="form-group">
        <label for="Temp3pm">Temp3pm</label>
        <div class="range-container">
          <div class="row">
            <div class="col-md-6" style="text-align: left;">
              <span class="range-label">-5.4</span>
            </div>
            <div class="col-md-6" style="text-align: right;">
              <span class="range-label" >46.7</span>
            </div>
          </div>
          <input type="range" class="form-range" name="Temp3pm" id="Temp3pm" min="-5.4" max="46.7" step="0.1" value="0" style="width: 100%;">
        </div>
        <center>
          <span class="value-display" id="Temp3pmValue">0</span>
        </center>
      </div>
    </div>
    <div class="col-md-4">
      <div class="form-group">
        <label for="Humidity9am">Humidity9am</label>
        <div class="range-container">
          <div class="row">
            <div class="col-md-6" style="text-align: left;">
              <span class="range-label">0.0</span>
            </div>
            <div class="col-md-6" style="text-align: right;">
              <span class="range-label" >100.0</span>
            </div>
          </div>
          <input type="range" class="form-range" name="Humidity9am" id="Humidity9am" min="0.0" max="100.0" step="0.5" value="0" style="width: 100%;">
        </div>
        <center>
          <span class="value-display" id="Humidity9amValue">0</span>
        </center>
      </div>
    </div>
  </div>

  <div class="row" style="text-align: center;">
    <div class="col-md-4">
      <div class="form-group">
        <label for="Humidity3pm">Humidity3pm</label>
        <div class="range-container">
          <div class="row">
            <div class="col-md-6" style="text-align: left;">
              <span class="range-label">0.0</span>
            </div>
            <div class="col-md-6" style="text-align: right;">
              <span class="range-label" >100.0</span>
            </div>
          </div>
          <input type="range" class="form-range" name="Humidity3pm" id="Humidity3pm" min="0.0" max="100.0" step="0.5" value="0" style="width: 100%;">
        </div>
        <center>
          <span class="value-display" id="Humidity3pmValue">0</span>
        </center>
      </div>
    </div>
    <div class="col-md-4">
      <div class="form-group">
        <label for="Cloud9am">Cloud9am</label>
        <div class="range-container">
          <div class="row">
            <div class="col-md-6" style="text-align: left;">
              <span class="range-label">0.0</span>
            </div>
            <div class="col-md-6" style="text-align: right;">
              <span class="range-label" >9.0</span>
            </div>
          </div>
          <input type="range" name="Cloud9am" class="form-range" id="Cloud9am" min="0.0" max="9.0" step="0.1" value="0" style="width: 100%;">
        </div>
        <center>
          <span class="value-display" id="Cloud9amValue">0</span>
        </center>
      </div>
    </div>
    <div class="col-md-4">
      <div class="form-group">
        <label for="Cloud3pm">Cloud3pm</label>
        <div class="range-container">
          <div class="row">
            <div class="col-md-6" style="text-align: left;">
              <span class="range-label">0.0</span>
            </div>
            <div class="col-md-6" style="text-align: right;">
              <span class="range-label" >9.0</span>
            </div>
          </div>
          <input type="range" name="Cloud3pm" class="form-range" id="Cloud3pm" min="0.0" max="9.0" step="0.5" value="0" style="width: 100%;">
        </div>
        <center>
          <span class="value-display" id="Cloud3pmValue">0</span>
        </center>
      </div>
    </div>
  </div>

  <div class="row" style="text-align: center;">
    <div class="col-md-4">
      <div class="form-group">
        <label for="WindSpeed9am">WindSpeed9am</label>
        <div class="range-container">
          <div class="row">
            <div class="col-md-6" style="text-align: left;">
              <span class="range-label">0.0</span>
            </div>
            <div class="col-md-6" style="text-align: right;">
              <span class="range-label" >130.0</span>
            </div>
          </div>
          <input type="range" name="WindSpeed9am" class="form-range" id="WindSpeed9am" min="0.0" max="130.0" step="0.5" value="0" style="width: 100%;">
        </div>
        <center>
          <span class="value-display" id="WindSpeed9amValue">0</span>
        </center>
      </div>
    </div>
    <div class="col-md-4">
      <div class="form-group">
        <label for="WindSpeed3pm">WindSpeed3pm</label>
        <div class="range-container">
          <div class="row">
            <div class="col-md-6" style="text-align: left;">
              <span class="range-label">0.0</span>
            </div>
            <div class="col-md-6" style="text-align: right;">
              <span class="range-label" >87.0</span>
            </div>
          </div>
          <input type="range" name="WindSpeed3pm" class="form-range" id="WindSpeed3pm" min="0.0" max="87.0" step="0.5" value="0" style="width: 100%;">
        </div>
        <center>
          <span class="value-display" id="WindSpeed3pmValue">0</span>
        </center>
      </div>
    </div>
    <div class="col-md-4">
      <div class="form-group">
        <label for="RainToday">RainToday</label>
        <select class="form-control" name="RainToday" id="RainToday" style="background-color: gray;">
          <option value="1">Sí</option>
          <option value="0">No</option>
        </select>
      </div>
    </div>
  </div>
  <div class="row">
    <div class="col-md-4">
      <label></label>
      <button type="submit" style="background-color: #ffae00;
      border-color: #ffae00;
      width: 100%;
      text-align: center;
      padding: 15px;
      margin-top:-8px;
      text-transform: uppercase;
      font-weight: bold;" class="btn btn-primary">Predecir</button>
    </div>
    <div class="col-md-8">
      <div id="result" class="alert alert-info mt-3" style="display:none; font-weight: bold; text-transform: uppercase; text-align: center;">
      </div>
    </div>
  </div>
</form>
<script>
  $(document).ready(function() {
    $('#weatherForm').on('submit', function (event) {
      event.preventDefault();
      $.ajax({
        url: "/prediccion",
        method: "POST",
        data: $(this).serialize(),
        success: function (response) {
          $('#result').html("¿ES PROBABLE QUE LLUEVA? " + response['result']);
          $('#result').show();
        }
      });
    });
  });
  const MinTempInput = document.getElementById('MinTemp');
  const MinTempValue = document.getElementById('MinTempValue');
  MinTempInput.addEventListener('input', () => {
    MinTempValue.textContent = MinTempInput.value;
  });
  const MaxTempInput = document.getElementById('MaxTemp');
  const MaxTempValue = document.getElementById('MaxTempValue');
  MaxTempInput.addEventListener('input', () => {
    MaxTempValue.textContent = MaxTempInput.value;
  });
  const RainfallInput = document.getElementById('Rainfall');
  const RainfallValue = document.getElementById('RainfallValue');
  RainfallInput.addEventListener('input', () => {
    RainfallValue.textContent = RainfallInput.value;
  });
  const EvaporationInput = document.getElementById('Evaporation');
  const EvaporationValue = document.getElementById('EvaporationValue');
  EvaporationInput.addEventListener('input', () => {
    EvaporationValue.textContent = EvaporationInput.value;
  });
  const SunshineInput = document.getElementById('Sunshine');
  const SunshineValue = document.getElementById('SunshineValue');
  SunshineInput.addEventListener('input', () => {
    SunshineValue.textContent = SunshineInput.value;
  });
  const WindGustSpeedInput = document.getElementById('WindGustSpeed');
  const WindGustSpeedValue = document.getElementById('WindGustSpeedValue');
  WindGustSpeedInput.addEventListener('input', () => {
    WindGustSpeedValue.textContent = WindGustSpeedInput.value;
  });
  const Pressure9amInput = document.getElementById('Pressure9am');
  const Pressure9amValue = document.getElementById('Pressure9amValue');
  Pressure9amInput.addEventListener('input', () => {
    Pressure9amValue.textContent = Pressure9amInput.value;
  });
  const Pressure3pmInput = document.getElementById('Pressure3pm');
  const Pressure3pmValue = document.getElementById('Pressure3pmValue');
  Pressure3pmInput.addEventListener('input', () => {
    Pressure3pmValue.textContent = Pressure3pmInput.value;
  });
  const Temp9amInput = document.getElementById('Temp9am');
  const Temp9amValue = document.getElementById('Temp9amValue');
  Temp9amInput.addEventListener('input', () => {
    Temp9amValue.textContent = Temp9amInput.value;
  });
  const Temp3pmInput = document.getElementById('Temp3pm');
  const Temp3pmValue = document.getElementById('Temp3pmValue');
  Temp3pmInput.addEventListener('input', () => {
    Temp3pmValue.textContent = Temp3pmInput.value;
  });
  const Humidity9amInput = document.getElementById('Humidity9am');
  const Humidity9amValue = document.getElementById('Humidity9amValue');
  Humidity9amInput.addEventListener('input', () => {
    Humidity9amValue.textContent = Humidity9amInput.value;
  });
  const Humidity3pmInput = document.getElementById('Humidity3pm');
  const Humidity3pmValue = document.getElementById('Humidity3pmValue');
  Humidity3pmInput.addEventListener('input', () => {
    Humidity3pmValue.textContent = Humidity3pmInput.value;
  });
  const Cloud9amInput = document.getElementById('Cloud9am');
  const Cloud9amValue = document.getElementById('Cloud9amValue');
  Cloud9amInput.addEventListener('input', () => {
    Cloud9amValue.textContent = Cloud9amInput.value;
  });
  const Cloud3pmInput = document.getElementById('Cloud3pm');
  const Cloud3pmValue = document.getElementById('Cloud3pmValue');
  Cloud3pmInput.addEventListener('input', () => {
    Cloud3pmValue.textContent = Cloud3pmInput.value;
  });
  const WindSpeed9amInput = document.getElementById('WindSpeed9am');
  const WindSpeed9amValue = document.getElementById('WindSpeed9amValue');
  WindSpeed9amInput.addEventListener('input', () => {
    WindSpeed9amValue.textContent = WindSpeed9amInput.value;
  });
  const WindSpeed3pmInput = document.getElementById('WindSpeed3pm');
  const WindSpeed3pmValue = document.getElementById('WindSpeed3pmValue');
  WindSpeed3pmInput.addEventListener('input', () => {
    WindSpeed3pmValue.textContent = WindSpeed3pmInput.value;
  });  
</script>
{% endblock %}
